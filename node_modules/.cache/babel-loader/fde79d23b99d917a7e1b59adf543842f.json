{"ast":null,"code":"import _classCallCheck from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/Angela He/treehacks/src/components/UserTab.js\";\nimport React, { Component } from 'react';\nimport AddCheckin from './AddCheckin';\nimport $ from 'jquery';\nimport { withFirebase } from './Firebase';\n\nvar LogoutButton = function LogoutButton(props) {\n  return React.createElement(\"button\", {\n    id: \"logout-but\",\n    onClick: function onClick() {\n      props.logout();\n      props.firebase.doSignOut();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, \"logout\");\n};\n\nvar LogoutButtonFB = withFirebase(LogoutButton);\n\nvar UserTab =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(UserTab, _React$Component);\n\n  function UserTab(props) {\n    var _this;\n\n    _classCallCheck(this, UserTab);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserTab).call(this, props));\n\n    _this.setEditMode = function (bool) {\n      _this.setState({\n        editMode: bool\n      }); //TODO: save changes\n\n\n      if (bool === false) {\n        if ($('.profile-name').val() != _this.state.name) {\n          var NameVal = $('.profile-name').val();\n\n          _this.setState({\n            name: NameVal\n          });\n\n          _this.props.firebase.user(_this.props.uid).update({\n            name: NameVal\n          });\n        }\n      }\n    };\n\n    _this.setAddMode = function (bool) {\n      _this.setState({\n        addMode: bool\n      });\n    };\n\n    _this.addCheckin = function (obj) {\n      var arr = _this.state.checkins;\n      arr.push(obj);\n\n      _this.setState({\n        checkins: arr\n      });\n\n      _this.props.firebase.user(_this.props.uid).update({\n        checkins: arr\n      });\n    };\n\n    _this.removeCheckinAt = function (index) {\n      var arr = _this.state.checkins;\n      arr.splice(index, 1);\n\n      _this.setState({\n        checkins: arr\n      });\n\n      _this.props.firebase.user(_this.props.uid).update({\n        checkins: arr\n      });\n    };\n\n    _this.state = {\n      editMode: false,\n      checkins: _this.props.checkins,\n      name: _this.props.name,\n      addMode: false\n    };\n    return _this;\n  }\n\n  _createClass(UserTab, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var cornerButton;\n      var pic;\n      var name;\n      var checkins;\n      var addQ;\n\n      if (this.state.editMode) {\n        cornerButton = React.createElement(\"button\", {\n          className: \"edit done\",\n          onClick: function onClick() {\n            return _this2.setEditMode(false);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, \"Done\");\n        pic = React.createElement(\"button\", {\n          className: \"edit-pic\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"pic\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"edit-pic-but\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"jam jam-pencil\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        })));\n        name = React.createElement(\"input\", {\n          type: \"text\",\n          className: \"profile-name\",\n          placeholder: this.state.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        });\n        checkins = React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, this.state.checkins.map(function (checkin, index) {\n          return React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108\n            },\n            __self: this\n          }, checkin.q, React.createElement(\"button\", {\n            className: \"delete\",\n            onClick: function onClick() {\n              return _this2.removeCheckinAt(index);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110\n            },\n            __self: this\n          }, React.createElement(\"span\", {\n            className: \"jam jam-trash\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          })));\n        }));\n      } else {\n        cornerButton = React.createElement(\"button\", {\n          className: \"edit\",\n          onClick: function onClick() {\n            return _this2.setEditMode(true);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"jam jam-pencil\",\n          style: {\n            color: '#9FC6C1'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }));\n        pic = React.createElement(\"div\", {\n          className: \"pic\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        });\n        name = React.createElement(\"div\", {\n          className: \"profile-name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, this.state.name);\n        checkins = React.createElement(\"ul\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, this.state.checkins.map(function (checkin, index) {\n          return React.createElement(\"li\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          }, checkin.q);\n        }));\n      }\n\n      if (this.state.addMode) {\n        addQ = React.createElement(AddCheckin, {\n          setAddMode: this.setAddMode,\n          uid: this.props.uid,\n          addCheckin: this.addCheckin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        });\n      } else {\n        addQ = React.createElement(\"button\", {\n          onClick: function onClick() {\n            _this2.setAddMode(true);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, \"add more\");\n      }\n\n      return React.createElement(\"section\", {\n        className: \"user\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, cornerButton, pic, name, React.createElement(\"div\", {\n        className: \"check-in-edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Your Daily Check-in\"), checkins, addQ), React.createElement(LogoutButtonFB, {\n        logout: this.props.logout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return UserTab;\n}(React.Component);\n\nexport default UserTab;","map":{"version":3,"sources":["/Volumes/Angela He/treehacks/src/components/UserTab.js"],"names":["React","Component","AddCheckin","$","withFirebase","LogoutButton","props","logout","firebase","doSignOut","LogoutButtonFB","UserTab","setEditMode","bool","setState","editMode","val","state","name","NameVal","user","uid","update","setAddMode","addMode","addCheckin","obj","arr","checkins","push","removeCheckinAt","index","splice","cornerButton","pic","addQ","map","checkin","q","color"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport AddCheckin from './AddCheckin';\nimport $ from 'jquery';\nimport { withFirebase } from './Firebase';\n\nconst LogoutButton = (props) => {\n  return (\n    <button id=\"logout-but\" \n          onClick={()=>{\n            props.logout();\n            props.firebase.doSignOut();\n            }}>logout</button>\n  )\n};\n\nconst LogoutButtonFB = withFirebase(LogoutButton);\n\n\nclass UserTab extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      editMode: false,\n      checkins: this.props.checkins,\n      name: this.props.name,\n      addMode: false,\n    };\n  }\n  \n  setEditMode = (bool) => {\n    this.setState({\n      editMode: bool\n    });\n\n    //TODO: save changes\n    if (bool === false){\n      if ($('.profile-name').val() != this.state.name){\n        let NameVal = $('.profile-name').val();\n        this.setState({\n          name: NameVal\n        });\n        this.props.firebase\n        .user(this.props.uid)\n        .update({\n          name: NameVal\n        });\n      }\n    }\n  };\n\n  setAddMode = (bool) => {\n    this.setState({\n      addMode: bool\n    });\n  };\n\n  addCheckin = (obj) => {\n    let arr = this.state.checkins;\n    arr.push(obj);\n    this.setState({checkins:arr});\n\n\n    this.props.firebase\n    .user(this.props.uid)\n    .update({\n      checkins: arr\n    });\n  }\n\n  removeCheckinAt = (index) => {\n    let arr = this.state.checkins;\n    arr.splice(index, 1);\n    this.setState({checkins:arr});\n\n    this.props.firebase\n    .user(this.props.uid)\n    .update({\n      checkins: arr\n    });\n  }\n\n  render (){ \n    let cornerButton;\n    let pic;\n    let name;\n    let checkins;\n    let addQ;\n\n    if (this.state.editMode){\n      cornerButton = (\n        <button className=\"edit done\" onClick={()=>this.setEditMode(false)}>Done</button>\n      );\n      pic = (\n        <button className=\"edit-pic\">\n          <div className=\"pic\"></div>\n          <div className=\"edit-pic-but\">\n            <span className=\"jam jam-pencil\"></span>\n          </div>\n        </button>\n      );\n      name = (\n        <input type=\"text\" className=\"profile-name\" placeholder={this.state.name}></input>\n      );\n      checkins = (\n        <ul>\n          {this.state.checkins.map((checkin, index) => {\n            return <li>\n              {checkin.q}\n              <button className=\"delete\" onClick={()=>this.removeCheckinAt(index)}>\n                <span className=\"jam jam-trash\"></span>\n              </button>\n            </li>;\n          })}\n        </ul>\n      );\n    }\n    else{\n      cornerButton = (\n        <button className=\"edit\" onClick={()=>this.setEditMode(true)}><span className=\"jam jam-pencil\" style={{color: '#9FC6C1'}}></span></button>\n      );\n      pic = (\n        <div className=\"pic\"></div>\n      );\n      name = (\n        <div className=\"profile-name\">{this.state.name}</div>\n      );\n      checkins = (\n        <ul>\n          {this.state.checkins.map(function(checkin, index){\n            return <li>{checkin.q}</li>;\n          })}\n        </ul>\n      );\n    }\n\n    if (this.state.addMode){\n      addQ = (\n       <AddCheckin\n         setAddMode = {this.setAddMode}\n         uid={this.props.uid}\n         addCheckin = {this.addCheckin}\n       />\n      );\n    }else { \n      addQ = (\n        <button onClick = {()=>{this.setAddMode(true)}}>add more\n        </button>\n        );\n    }\n\n    return (\n      <section className=\"user\">\n        {cornerButton}\n        {pic}\n        {name}\n        <div className=\"check-in-edit\">\n          <h2>Your Daily Check-in</h2>\n          {checkins}\n          {addQ}\n        </div>\n          <LogoutButtonFB\n            logout = {this.props.logout}\n          />\n        \n      </section>\n    );\n  }\n}\n\n\nexport default UserTab;"]},"metadata":{},"sourceType":"module"}