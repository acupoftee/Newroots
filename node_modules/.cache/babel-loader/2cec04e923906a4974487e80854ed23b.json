{"ast":null,"code":"import _classCallCheck from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/Angela He/treehacks/src/components/CheckinModal.js\";\nimport React, { Component } from 'react';\nimport $ from 'jquery';\nimport moment from 'moment';\nimport texture1 from './../graphics/flower.png';\nimport texture2 from './../graphics/thing.png';\n\nvar TextQ = function TextQ(props) {\n  return React.createElement(\"div\", {\n    className: \"ci-question\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, props.q), React.createElement(\"textarea\", {\n    className: \"feelings\",\n    rows: \"3\",\n    placeholder: \"I think..\",\n    onChange: function onChange(event) {\n      return props.setAnswer(event.target.value, props.index);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }));\n};\n\nvar YesNoQ =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(YesNoQ, _React$Component);\n\n  function YesNoQ(props) {\n    var _this;\n\n    _classCallCheck(this, YesNoQ);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(YesNoQ).call(this, props));\n    _this.state = {\n      answer: null\n    };\n    return _this;\n  }\n\n  _createClass(YesNoQ, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var yesClass = 'yes',\n          noClass = 'no',\n          answer = this.state.answer;\n\n      if (answer == 'yes') {\n        noClass += ' disabled';\n      } else if (answer == 'no') {\n        yesClass += ' disabled';\n      }\n\n      return React.createElement(\"div\", {\n        className: \"ci-question\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, this.props.q), React.createElement(\"div\", {\n        className: \"yesno\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: yesClass,\n        onClick: function onClick() {\n          _this2.setState({\n            answer: 'yes'\n          });\n\n          _this2.props.setAnswer('yes', _this2.props.index);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"jam jam-check\",\n        style: {\n          color: 'white'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: noClass,\n        onClick: function onClick() {\n          _this2.setState({\n            answer: 'no'\n          });\n\n          _this2.props.setAnswer('no', _this2.props.index);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"jam jam-close\",\n        style: {\n          color: '#8A8184'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \" \"))), React.createElement(\"textarea\", {\n        className: \"feelings\",\n        rows: \"1\",\n        placeholder: \"Other comments\",\n        onChange: function onChange(event) {\n          return _this2.props.setComment(event, _this2.props.index);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return YesNoQ;\n}(React.Component);\n\nvar RangeQ = function RangeQ(props) {\n  return React.createElement(\"div\", {\n    className: \"ci-question\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, props.q), React.createElement(\"div\", {\n    className: \"mood-measurer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"range\",\n    min: \"1\",\n    max: \"10\",\n    value: props.val,\n    onChange: function onChange(event) {\n      return props.setAnswer(event.target.value, props.index);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"indicator\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"4\")), React.createElement(\"div\", {\n    className: \"num\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"1\"), React.createElement(\"small\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"7\"))), React.createElement(\"textarea\", {\n    className: \"feelings\",\n    rows: \"1\",\n    placeholder: \"Other comments\",\n    onChange: function onChange(event) {\n      return props.setComment(event, props.index);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }));\n};\n\nvar CheckinModal =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(CheckinModal, _React$Component2);\n\n  function CheckinModal(props) {\n    var _this3;\n\n    _classCallCheck(this, CheckinModal);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(CheckinModal).call(this, props));\n\n    _this3.incrementCurrIndex = function () {\n      var i = _this3.state.currIndex;\n\n      _this3.setState({\n        currIndex: i + 1\n      });\n    };\n\n    _this3.setAnswer = function (answer, checkinIndex) {\n      var checkins = _this3.state.checkins;\n      checkins[checkinIndex].answer = answer;\n\n      _this3.setState({\n        checkins: checkins\n      });\n    };\n\n    _this3.setComment = function (event, checkinIndex) {\n      var checkins = _this3.state.checkins;\n      checkins[checkinIndex].comment = event.target.value;\n\n      _this3.setState({\n        checkins: checkins\n      });\n    };\n\n    _this3.saveCheckinData = function () {\n      var time = moment().format('L');\n\n      if (_this3.state.checkins.length !== 0) {\n        //save to feed of every person in the network\n        var network = _this3.props.network;\n        var PpfURL = _this3.props.PpfURL === undefined ? null : _this3.props.PpfURL;\n        var data = {\n          PpfURL: PpfURL,\n          name: _this3.props.name,\n          uid: _this3.props.uid,\n          checkin: true,\n          checkinData: _this3.state.checkins,\n          timestamp: new Date().toString()\n        }; //save to your feed\n\n        _this3.props.firebase.feed(_this3.props.uid).add(data).then(function (docRef) {\n          var id = docRef.id;\n\n          for (var i = 0; i < network.length; i++) {\n            this.props.firebase.feed(network[i]).doc(id).set(data);\n          } //save to post\n\n\n          this.props.firebase.posts().doc(id).set(data);\n        });\n      }\n\n      _this3.props.firebase.user(_this3.props.uid).update({\n        lastCheckin: time\n      }).then(function () {\n        _this3.props.updateCheckin(time);\n      });\n    };\n\n    _this3.state = {\n      checkins: props.checkins,\n      currIndex: 0\n    };\n    return _this3;\n  }\n\n  _createClass(CheckinModal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      $('input[type=\"range\"]').each(function (index) {\n        var range = $(this).parent().find('.indicator');\n        var p = $(range).find('p');\n        $(range).hide();\n        $(this).focusin(function () {\n          $(range).css('left', 'calc(' + $(this).val() * (1 / 7) * 100 + '% - 60px)');\n          $(range).show();\n        });\n        $(this).focusout(function () {\n          $(range).hide();\n        });\n        $(this).on('input', function () {\n          $(range).css('left', 'calc(' + $(this).val() * (1 / 7) * 100 + '% - 60px)');\n          $(p).text($(this).val());\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var checkinQs = [],\n          checkins = this.state.checkins,\n          currIndex = this.state.currIndex;\n\n      for (var i = currIndex; i < checkins.length && i < currIndex + 1; i++) {\n        var addEl = void 0;\n\n        if (checkins[i].type == 'text') {\n          addEl = React.createElement(TextQ, {\n            q: checkins[i].q,\n            index: i,\n            setAnswer: this.setAnswer,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 183\n            },\n            __self: this\n          });\n        } else if (checkins[i].type == 'yes/no') {\n          addEl = React.createElement(YesNoQ, {\n            q: checkins[i].q,\n            index: i,\n            setAnswer: this.setAnswer,\n            setComment: this.setComment,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 192\n            },\n            __self: this\n          });\n        } else {\n          addEl = React.createElement(RangeQ, {\n            q: checkins[i].q,\n            index: i,\n            val: checkins[i].answer ? checkins[i].answer : 5,\n            setAnswer: this.setAnswer,\n            setComment: this.setComment,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202\n            },\n            __self: this\n          });\n        }\n\n        checkinQs.push(addEl);\n      }\n\n      if (checkins.length === 0) {\n        checkinQs.push(React.createElement(\"div\", {\n          className: \"ci-question\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        }, 'Good day, ' + this.props.name + '.'), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, \"You've got nothing to check-in - have a great rest of the day.\")));\n      }\n\n      var submitButton = null;\n\n      if (currIndex + 1 >= checkins.length) {\n        submitButton = React.createElement(\"button\", {\n          id: \"submit\",\n          onClick: this.saveCheckinData,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"jam jam-check\",\n          style: {\n            color: '#9FC6C1'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230\n          },\n          __self: this\n        }));\n      } else {\n        submitButton = React.createElement(\"button\", {\n          id: \"submit\",\n          onClick: this.incrementCurrIndex,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"jam jam-arrow-right\",\n          style: {\n            color: '#9FC6C1'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 236\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"div\", {\n        className: \"modal-bg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"checkin modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"bg-texture first\",\n        src: texture1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        className: \"bg-texture second\",\n        src: texture2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"bg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, moment().format('MMMM D')), React.createElement(\"h1\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"highlight\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, \"check-in\")), React.createElement(\"div\", {\n        className: \"checkin-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, checkinQs, submitButton)));\n    }\n  }]);\n\n  return CheckinModal;\n}(React.Component);\n\nexport default CheckinModal;","map":{"version":3,"sources":["/Volumes/Angela He/treehacks/src/components/CheckinModal.js"],"names":["React","Component","$","moment","texture1","texture2","TextQ","props","q","event","setAnswer","target","value","index","YesNoQ","state","answer","yesClass","noClass","setState","color","setComment","RangeQ","val","CheckinModal","incrementCurrIndex","i","currIndex","checkinIndex","checkins","comment","saveCheckinData","time","format","length","network","PpfURL","undefined","data","name","uid","checkin","checkinData","timestamp","Date","toString","firebase","feed","add","then","docRef","id","doc","set","posts","user","update","lastCheckin","updateCheckin","each","range","parent","find","p","hide","focusin","css","show","focusout","on","text","checkinQs","addEl","type","push","submitButton"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport $ from 'jquery';\nimport moment from 'moment';\nimport texture1 from './../graphics/flower.png';\nimport texture2 from './../graphics/thing.png';\n\n\n\nconst TextQ = (props) => {\n  return (\n    <div className=\"ci-question\">\n      <h2>{props.q}</h2>\n      <textarea className=\"feelings\" rows=\"3\" placeholder=\"I think..\"\n        onChange={(event) => props.setAnswer(event.target.value, props.index)}></textarea>\n    </div>\n  );\n};\n\nclass YesNoQ extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      answer: null\n    };\n  }\n  render() {\n    let yesClass = 'yes', noClass = 'no', answer = this.state.answer;\n    if (answer == 'yes') {\n      noClass += ' disabled';\n    } else if (answer == 'no') {\n      yesClass += ' disabled';\n    }\n    return (\n      <div className=\"ci-question\">\n        <h2>{this.props.q}</h2>\n        <div className=\"yesno\">\n          <button className={yesClass}\n            onClick={() => {\n              this.setState({ answer: 'yes' })\n              this.props.setAnswer('yes', this.props.index)\n            }}>\n            <span className=\"jam jam-check\" style={{ color: 'white' }}></span>\n          </button>\n          <button className={noClass}\n            onClick={() => {\n              this.setState({ answer: 'no' })\n              this.props.setAnswer('no', this.props.index)\n            }}>\n            <span className=\"jam jam-close\" style={{ color: '#8A8184' }}> </span>\n          </button>\n        </div>\n        <textarea\n          className=\"feelings\"\n          rows=\"1\"\n          placeholder=\"Other comments\"\n          onChange={(event) => this.props.setComment(event, this.props.index)}></textarea>\n      </div>\n    );\n  }\n\n}\n\nconst RangeQ = (props) => {\n  return (\n    <div className=\"ci-question\">\n      <h2>{props.q}</h2>\n      <div className=\"mood-measurer\">\n        <input type=\"range\"\n          min=\"1\"\n          max=\"10\"\n          value={props.val}\n          onChange={(event) => props.setAnswer(event.target.value, props.index)} />\n        <div className=\"indicator\">\n          <p>4</p>\n        </div>\n        <div className=\"num\"><small>1</small><small>7</small></div>\n      </div>\n      <textarea\n        className=\"feelings\"\n        rows=\"1\"\n        placeholder=\"Other comments\"\n        onChange={(event) => props.setComment(event, props.index)}></textarea>\n    </div>\n  );\n};\n\nclass CheckinModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      checkins: props.checkins,\n      currIndex: 0\n    };\n  }\n\n  componentDidMount() {\n    $('input[type=\"range\"]').each(function (index) {\n      let range = $(this).parent().find('.indicator');\n      let p = $(range).find('p');\n      $(range).hide();\n\n      $(this).focusin(function () {\n        $(range).css('left', ('calc(' + $(this).val() * (1 / 7) * 100) + '% - 60px)');\n        $(range).show();\n      });\n\n      $(this).focusout(function () {\n        $(range).hide();\n      });\n\n      $(this).on('input', function () {\n        $(range).css('left', ('calc(' + $(this).val() * (1 / 7) * 100) + '% - 60px)');\n        $(p).text($(this).val());\n      });\n    });\n  }\n\n  incrementCurrIndex = () => {\n    let i = this.state.currIndex;\n    this.setState({ currIndex: i + 1 });\n  }\n\n  setAnswer = (answer, checkinIndex) => {\n    let checkins = this.state.checkins;\n    checkins[checkinIndex].answer = answer;\n\n    this.setState({ checkins: checkins });\n  }\n\n  setComment = (event, checkinIndex) => {\n    let checkins = this.state.checkins;\n    checkins[checkinIndex].comment = event.target.value;\n\n    this.setState({ checkins: checkins });\n  }\n\n\n  //TOOD - SAVE CHECKIN DATA\n  saveCheckinData = () => {\n    let time = moment().format('L');\n\n    if (this.state.checkins.length !== 0) {\n      //save to feed of every person in the network\n      let network = this.props.network;\n      let PpfURL = this.props.PpfURL === undefined ? null : this.props.PpfURL;\n      let data = {\n        PpfURL: PpfURL,\n        name: this.props.name,\n        uid: this.props.uid,\n        checkin: true,\n        checkinData: this.state.checkins,\n        timestamp: new Date().toString()\n      };\n\n      //save to your feed\n      this.props.firebase.feed(this.props.uid).add(data).then(function (docRef) {\n        let id = docRef.id;\n        for (let i = 0; i < network.length; i++) {\n          this.props.firebase.feed(network[i]).doc(id).set(data);\n        }\n\n        //save to post\n        this.props.firebase.posts().doc(id).set(data);\n      });\n    }\n\n\n    this.props.firebase.user(this.props.uid).update({\n      lastCheckin: time\n    }).then(() => {\n      this.props.updateCheckin(time);\n    });\n\n\n  }\n\n  render() {\n    let checkinQs = [], checkins = this.state.checkins, currIndex = this.state.currIndex;\n    for (var i = currIndex; i < checkins.length && i < currIndex + 1; i++) {\n      let addEl;\n      if (checkins[i].type == 'text') {\n        addEl = (\n          <TextQ\n            q={checkins[i].q}\n            index={i}\n            setAnswer={this.setAnswer}\n          />\n        );\n      }\n      else if (checkins[i].type == 'yes/no') {\n        addEl = (\n          <YesNoQ\n            q={checkins[i].q}\n            index={i}\n            setAnswer={this.setAnswer}\n            setComment={this.setComment}\n          />\n        );\n      }\n      else {\n        addEl = (\n          <RangeQ\n            q={checkins[i].q}\n            index={i}\n            val={checkins[i].answer ? checkins[i].answer : 5}\n            setAnswer={this.setAnswer}\n            setComment={this.setComment}\n          />\n        );\n      }\n      checkinQs.push(addEl);\n    }\n\n    if (checkins.length === 0) {\n      checkinQs.push(\n        <div className=\"ci-question\">\n          <h2>{'Good day, ' + this.props.name + '.'}</h2>\n          <p>\n            You've got nothing to check-in - have a great rest of the day.\n          </p>\n        </div>\n      );\n    }\n\n\n    let submitButton = null;\n    if (currIndex + 1 >= checkins.length) {\n      submitButton = (\n        <button id=\"submit\" onClick={this.saveCheckinData}>\n          <span className=\"jam jam-check\" style={{ color: '#9FC6C1' }}></span>\n        </button>\n      );\n    } else {\n      submitButton = (\n        <button id=\"submit\" onClick={this.incrementCurrIndex}>\n          <span className=\"jam jam-arrow-right\" style={{ color: '#9FC6C1' }}></span>\n        </button>\n      );\n    }\n\n    return (\n      <div className=\"modal-bg\">\n        <div className=\"checkin modal\">\n          <img className=\"bg-texture first\" src={texture1} />\n          <img className=\"bg-texture second\" src={texture2} />\n          <div className=\"bg\"></div>\n          <h1>{moment().format('MMMM D')}</h1>\n          <h1 className=\"title\">\n            <div className=\"highlight\"></div><span>check-in</span>\n          </h1>\n          <div className=\"checkin-content\">\n            {checkinQs}\n\n            {submitButton}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CheckinModal;"]},"metadata":{},"sourceType":"module"}