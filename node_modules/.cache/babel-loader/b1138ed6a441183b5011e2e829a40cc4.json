{"ast":null,"code":"import _classCallCheck from \"/Users/gollyzoom/Documents/GitHub/treehacks/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/gollyzoom/Documents/GitHub/treehacks/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/gollyzoom/Documents/GitHub/treehacks/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/gollyzoom/Documents/GitHub/treehacks/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/gollyzoom/Documents/GitHub/treehacks/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/gollyzoom/Documents/GitHub/treehacks/src/components/NetworkTab.js\";\nimport React, { Component } from 'react';\nimport AddFriend from './AddFriend';\nimport { withFirebase } from './Firebase';\nimport { request } from 'http';\nimport Avatar from './Avatar';\nvar AddFriendFB = withFirebase(AddFriend);\n\nvar NetworkTab =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(NetworkTab, _React$Component);\n\n  function NetworkTab(props) {\n    var _this;\n\n    _classCallCheck(this, NetworkTab);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NetworkTab).call(this, props));\n\n    _this.setAddFriend = function (bool) {\n      _this.setState({\n        addFriend: bool\n      });\n    };\n\n    _this.filterNetwork = function (event) {\n      var word = event.target.value;\n    };\n\n    _this.setRequests = function (requests) {\n      _this.setState({\n        requests: requests\n      });\n\n      _this.props.setRequests(requests);\n    };\n\n    _this.setNetworkUsers = function (network) {\n      var users = _this.state.networkUsers;\n\n      if (users == null) {\n        _this.setState({\n          network: network\n        });\n\n        _this.loadNetworkUsers();\n      } else {\n        //dfind difference  btw n prev state and this state, add to networkUsers\n        var prev = _this.state.network;\n        var difference = network.filter(function (i) {\n          return prev.indexOf(i) < 0;\n        });\n        prev.forEach(function (val) {\n          _this.props.firebase.users(val).get().then(function (doc) {\n            users.push(doc.data());\n\n            _this.setState({\n              networkUsers: users\n            });\n          });\n        });\n\n        _this.setState({\n          network: network\n        });\n      }\n\n      _this.props.setNetwork(network);\n    };\n\n    _this.loadNetworkUsers = function () {\n      _this.setState({\n        loading: true,\n        networkUsers: null\n      });\n\n      var users = [];\n      var counter = 0;\n\n      for (var i = 0; i < _this.state.network.length; i++) {\n        _this.props.firebase.user(_this.state.network[i]).get().then(function (doc) {\n          users.push(doc.data());\n          this.setState({\n            networkUsers: users\n          });\n          counter++;\n\n          if (counter === this.state.requests.length) {\n            this.setState({\n              loading: false\n            });\n          }\n        });\n      }\n    };\n\n    _this.state = {\n      addFriend: false,\n      network: _this.props.network,\n      networkUsers: [],\n      loading: false,\n      requests: _this.props.requests\n    };\n    return _this;\n  }\n\n  _createClass(NetworkTab, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var element = this;\n      var networkRef = this.props.firebase.user(this.props.uid).collection('network');\n      networkRef.onSnapshot(function (querySnapshot) {\n        var network = [];\n        querySnapshot.forEach(function (doc) {\n          network.push(doc.data());\n        });\n        element.setNetworkUsers(network);\n      }).catch(function (error) {\n        console.log(\"Error getting documents: \", error);\n      });\n      var requestsRef = this.props.firebase.user(this.props.uid).collection(\"requests\");\n      requestsRef.onSnapshot(function (querySnapshot) {\n        var requests = [];\n        querySnapshot.forEach(function (doc) {\n          requests.push(doc.data());\n        });\n        element.setRequests(requests);\n      }).catch(function (error) {\n        console.log(\"Error getting documents: \", error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      if ((!this.state.networkUsers || this.state.networkUsers.length === 0) && this.state.network.length > 0) {\n        if (this.state.loading == false) {\n          this.loadNetworkUsers();\n        }\n      }\n\n      var alert = null;\n\n      if (this.state.requests.length > 0) {\n        alert = React.createElement(\"span\", {\n          className: \"alert\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, this.state.requests.length);\n      }\n\n      var network = [];\n\n      for (var i = 0; i < this.state.networkUsers.length; i++) {\n        var user = this.state.networkUsers[i];\n        var addEl = React.createElement(\"div\", {\n          className: \"friend\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, React.createElement(Avatar, {\n          PpfURL: user.PpfURL,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, user.name), React.createElement(\"button\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"jam jam-heart\",\n          style: {\n            color: '#e38882'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        })));\n        network.push(addEl);\n      }\n\n      return React.createElement(\"section\", {\n        className: \"network\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Your network\"), React.createElement(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"search-bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"search\",\n        onChange: this.filterNetwork,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        id: \"search-friends\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"jam jam-search\",\n        style: {\n          color: '#9FC6C1'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }))), React.createElement(\"button\", {\n        id: \"add-friends\",\n        onClick: function onClick() {\n          return _this2.setAddFriend(true);\n        },\n        disabled: this.state.loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"jam jam-user-plus\",\n        style: {\n          color: '#9FC6C1'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }), alert)), React.createElement(\"div\", {\n        className: \"friends\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, network), this.state.addFriend ? React.createElement(AddFriendFB, {\n        setAddFriend: this.setAddFriend,\n        uid: this.props.uid,\n        requests: this.state.requests,\n        network: this.state.network,\n        networkUsers: this.state.network,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }) : null);\n    }\n  }]);\n\n  return NetworkTab;\n}(React.Component);\n\n;\nexport default NetworkTab;","map":{"version":3,"sources":["/Users/gollyzoom/Documents/GitHub/treehacks/src/components/NetworkTab.js"],"names":["React","Component","AddFriend","withFirebase","request","Avatar","AddFriendFB","NetworkTab","props","setAddFriend","bool","setState","addFriend","filterNetwork","event","word","target","value","setRequests","requests","setNetworkUsers","network","users","state","networkUsers","loadNetworkUsers","prev","difference","filter","i","indexOf","forEach","val","firebase","get","then","doc","push","data","setNetwork","loading","counter","length","user","element","networkRef","uid","collection","onSnapshot","querySnapshot","catch","error","console","log","requestsRef","alert","addEl","PpfURL","name","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport AddFriend from './AddFriend';\nimport { withFirebase } from './Firebase';\nimport { request } from 'http';\nimport Avatar from './Avatar';\n\nconst AddFriendFB = withFirebase(AddFriend);\n\nclass NetworkTab extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      addFriend: false,\n      network: this.props.network,\n      networkUsers: [],\n      loading: false,\n      requests: this.props.requests,\n    };\n  }\n\n  componentDidMount() {\n    let element = this;\n    let networkRef = this.props.firebase.user(this.props.uid).collection('network');\n    networkRef.onSnapshot(function (querySnapshot) {\n      let network = [];\n      querySnapshot.forEach(function (doc) {\n        network.push(doc.data())\n      })\n      element.setNetworkUsers(network);\n    })\n      .catch(function (error) {\n        console.log(\"Error getting documents: \", error);\n      });\n\n    var requestsRef = this.props.firebase.user(this.props.uid).collection(\"requests\");\n\n    requestsRef.onSnapshot(function (querySnapshot) {\n      let requests = [];\n      querySnapshot.forEach(function (doc) {\n        requests.push(doc.data())\n      })\n      element.setRequests(requests);\n    })\n      .catch(function (error) {\n        console.log(\"Error getting documents: \", error);\n      });\n  }\n\n  setAddFriend = (bool) => {\n    this.setState({\n      addFriend: bool\n    });\n  }\n\n  filterNetwork = (event) => {\n    let word = event.target.value;\n  }\n\n  setRequests = (requests) => {\n    this.setState({ requests: requests });\n    this.props.setRequests(requests);\n  }\n\n  //expect: array of uids\n  setNetworkUsers = (network) => {\n    let users = this.state.networkUsers;\n    if (users == null) {\n      this.setState({ network: network });\n      this.loadNetworkUsers();\n    }\n    else {\n      //dfind difference  btw n prev state and this state, add to networkUsers\n      let prev = this.state.network;\n\n      let difference = network.filter(function (i) { return prev.indexOf(i) < 0 });\n\n      prev.forEach((val) => {\n        this.props.firebase\n          .users(val).get().then((doc) => {\n            users.push(doc.data());\n            this.setState({ networkUsers: users });\n          });\n      });\n\n      this.setState({ network: network });\n    }\n    this.props.setNetwork(network);\n  }\n\n  loadNetworkUsers = () => {\n    this.setState({ loading: true, networkUsers: null });\n    let users = [];\n    let counter = 0;\n\n    for (var i = 0; i < this.state.network.length; i++) {\n      this.props.firebase\n        .user(this.state.network[i]).get().then(function (doc) {\n          users.push(doc.data());\n          this.setState({ networkUsers: users });\n          counter++;\n          if (counter === this.state.requests.length) {\n            this.setState({ loading: false });\n          }\n        });\n    }\n  }\n\n  render() {\n    if ((!this.state.networkUsers || this.state.networkUsers.length === 0) &&\n      this.state.network.length > 0) {\n      if (this.state.loading == false) {\n        this.loadNetworkUsers();\n      }\n    }\n\n    let alert = null;\n    if (this.state.requests.length > 0) {\n      alert = (\n        <span className=\"alert\">{this.state.requests.length}</span>\n      );\n    }\n\n    let network = [];\n    for (var i = 0; i < this.state.networkUsers.length; i++) {\n      let user = this.state.networkUsers[i];\n      var addEl = (\n        <div className=\"friend\">\n          <Avatar PpfURL={user.PpfURL} />\n          <span>{user.name}</span>\n          <button><span className=\"jam jam-heart\" style={{ color: '#e38882' }}></span></button>\n        </div>\n      );\n      network.push(addEl);\n    }\n\n    return (\n      <section className=\"network\">\n        <h2>Your network</h2>\n        <div className=\"header\">\n          <div className=\"search-bar\">\n            <input type=\"text\" placeholder=\"search\" onChange={this.filterNetwork} />\n            <button id=\"search-friends\"><span className=\"jam jam-search\" style={{ color: '#9FC6C1' }}></span></button>\n          </div>\n          <button id=\"add-friends\" onClick={() => this.setAddFriend(true)} disabled={this.state.loading}>\n            <span className=\"jam jam-user-plus\" style={{ color: '#9FC6C1' }}></span>\n\n            {alert}\n\n          </button>\n        </div>\n        <div className=\"friends\">\n          {network}\n        </div>\n        {(this.state.addFriend ?\n          <AddFriendFB\n            setAddFriend={this.setAddFriend}\n            uid={this.props.uid}\n            requests={this.state.requests}\n            network={this.state.network}\n            networkUsers={this.state.network}\n          /> : null)}\n      </section>\n    );\n  }\n};\n\nexport default NetworkTab;"]},"metadata":{},"sourceType":"module"}